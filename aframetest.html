<html>
  <head>
    <script src="https://aframe.io/releases/0.9.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component/dist/aframe-environment-component.min.js"></script>
  </head>
  <body>
  	<script>//Block Placer Component
  	
  		AFRAME.registerComponent('blockplacer', {
  			schema: {type: 'string', default: '#000000'},
  			init: function() {
  				let data = this.data;
  				let el = this.el;
  				let scene = document.querySelector('a-scene');
  				el.addEventListener('click', (event)=>{
  					let location = event.detail.intersection.point;
  					let boxPos = {x: Math.floor(location.x)+0.5, y: Math.floor(location.y)+0.5, z: Math.floor(location.z)+0.5};
  					if(location.y < 0){
  						boxPos.y++;
  					} 
  					let box = document.createElement('a-box');
  					box.setAttribute('color', data);
  					box.setAttribute('position', boxPos);
  					box.setAttribute('blockplacer', '#FF0000');
  					scene.appendChild(box);
  				})
  			}
  		});
  	
  	</script>
    <a-scene>
    	<a-entity environment="preset: contact; 
    				ground: canyon; 
    				groundTexture: walkernoise; 
    				groundColor: #885522; 
    				groundColor2:#664422;
    				skyColor: #FFCCAA;" blockplacer="#FF0000"></a-entity>
     	<a-camera><a-cursor></a-cursor></a-camera>
    </a-scene>
  </body>
</html>
